{% extends "base.html" %}
{% load static %}

{% block title %}
TKL: AI Chat
{% endblock title %}

{% block extrahead %}
<link rel="stylesheet" href="{% static 'css/chat_style.css' %}">
{% endblock extrahead %}

{% block content %}
<div class="wrapper">
    <div class="new-chat-container"><a id="new-chat" href="{% url 'aichat:chat' %}">New Chat</a></div>
    <div id="chat-box">
        {% for message in messages %}
            {% if message.sender == "system" %}
                <div class="gpt-chat">
                    {{ message }}
                </div>
            {% else %}
                <div class="user-chat">
                    {{ message }}
                </div>
            {% endif %}
        {% endfor %}
        <!-- <ul id="messages">
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul> -->
    </div>
    <form action="{% url 'aichat:send' id %}" method="post">
        {% csrf_token %}
        <input id="text-input" type="text" name="message" placeholder="메시지를 입력하세요">
        <input id="text-submit" type="submit" value="전송">
    </form>
    <button id="record"></button>
</div>

<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src= "{% static 'js/voiceRecord.js' %}"></script>
{% endblock content %}